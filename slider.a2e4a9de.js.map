{"version":3,"sources":["js/slider.js"],"names":["window","CustomEvent","event","params","bubbles","cancelable","detail","e","document","createEvent","initCustomEvent","WRAPPER_SELECTOR","ITEMS_SELECTOR","ITEM_SELECTOR","CONTROL_CLASS","ITEM_CLASS_ACTIVE","CONTROL_SELECTOR","CONTROL_CLASS_SHOW","INDICATOR_WRAPPER_ELEMENT","INDICATOR_WRAPPER_CLASS","INDICATOR_ITEM_ELEMENT","INDICATOR_ITEM_CLASS","INDICATOR_ITEM_CLASS_ACTIVE","POS_THRESHOLD","TRANSITION_NONE","SELECTOR_INDICATOR","SLIDER_TRANSITION_OFF","CLASS_ITEM_ACTIVE","CLASS_INDICATOR_ACTIVE","ChiefSlider","selector","config","$root","querySelector","key","_$root","_$wrapper","_$items","_$itemList","querySelectorAll","_$indicatorList","_minOrder","_maxOrder","_$itemWithMinOrder","_$itemWithMaxOrder","_minTranslate","_maxTranslate","_direction","_balancingItemsFlag","_activeItems","_transform","_hasSwipeState","__swipeStartPos","_intervalId","_config","loop","autoplay","interval","refresh","swipe","hasOwnProperty","$itemList","widthItem","offsetWidth","widthWrapper","itemsInVisibleArea","Math","round","_widthItem","_widthWrapper","_itemsInVisibleArea","_transformStep","i","length","dataset","index","order","translate","push","count","style","transform","__refreshExtremeValues","_setActiveClass","_addEventListener","_updateIndicators","_autoplay","prototype","$items","onSwipeStart","type","search","touches","_swipeStartPos","clientX","onSwipeEnd","changedTouches","diffPos","_move","addEventListener","onClick","target","bind","onMouseEnter","onMouseLeave","onResize","requestAnimationFrame","_refresh","onTransitionStart","_balancingItems","onTransitionEnd","onDragStart","preventDefault","onVisibilityChange","visibilityState","_$itemByMinOrder","_$itemByMaxOrder","$item","$wrapper","$wrapperClientRect","getBoundingClientRect","widthHalfItem","width","wrapperLeft","left","$min","right","concat","wrapperRight","$max","activeItems","indexOf","classList","add","remove","$indicatorList","contains","step","endTransformValue","_$controlPrev","CLASS_CONTROL_HIDE","_$controlNext","activeIndex","newIndex","dispatchEvent","_moveToNext","_moveToPrev","_moveTo","nearestIndex","diff","$indicator","slideTo","abs","action","clearInterval","setInterval","position","elms","len","next","prev","moveTo"],"mappings":"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","file":"slider.a2e4a9de.js","sourceRoot":"..\\src","sourcesContent":["\r\n(function() {\r\n    if (typeof window.CustomEvent === 'function') return false;\r\n    function CustomEvent(event, params) {\r\n      params = params || {bubbles: false, cancelable: false, detail: null};\r\n      var e = document.createEvent('CustomEvent');\r\n      e.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n      return e;\r\n    }\r\n    window.CustomEvent = CustomEvent;\r\n  })();\r\n  \r\n  var WRAPPER_SELECTOR = '.slider__wrapper';\r\n  var ITEMS_SELECTOR = '.slider__items';\r\n  var ITEM_SELECTOR = '.slider__item';\r\n   var CONTROL_CLASS = 'slider__control';\r\n  \r\n   var ITEM_CLASS_ACTIVE = 'slider__item_active';\r\n  var CONTROL_SELECTOR = '.slider__control';\r\n  var CONTROL_CLASS_SHOW = 'slider__control_show';\r\n  \r\n  // индикаторы\r\n  var INDICATOR_WRAPPER_ELEMENT = 'ol';\r\n  var INDICATOR_WRAPPER_CLASS = 'slider__indicators';\r\n  var INDICATOR_ITEM_ELEMENT = 'li';\r\n  var INDICATOR_ITEM_CLASS = 'slider__indicator';\r\n  var INDICATOR_ITEM_CLASS_ACTIVE = 'slider__indicator_active';\r\n  // порог для переключения слайда (40%)\r\n  var POS_THRESHOLD = 40;\r\n  // класс для отключения transition\r\n  var TRANSITION_NONE = 'transition-none';\r\n  \r\n  //  var SELECTOR_PREV = '.slider__control[data-slide=\"prev\"]';\r\n  //  var SELECTOR_NEXT = '.slider__control[data-slide=\"next\"]';\r\n  var SELECTOR_INDICATOR = '.slider__indicators>li';\r\n  var SLIDER_TRANSITION_OFF = 'slider_disable-transition';\r\n  // var CLASS_CONTROL_HIDE = 'slider__control_hide';\r\n  var CLASS_ITEM_ACTIVE = 'slider__item_active';\r\n  var CLASS_INDICATOR_ACTIVE = 'active';\r\n  \r\n  function ChiefSlider(selector, config) {\r\n    // элементы слайдера\r\n    var $root = typeof selector === 'string' ?\r\n      document.querySelector(selector) : selector;\r\n    this._$root = $root;\r\n    this._$wrapper = $root.querySelector(WRAPPER_SELECTOR);\r\n    this._$items = $root.querySelector(ITEMS_SELECTOR);\r\n    this._$itemList = $root.querySelectorAll(ITEM_SELECTOR);\r\n    // this._$controlPrev = $root.querySelector(SELECTOR_PREV);\r\n    // this._$controlNext = $root.querySelector(SELECTOR_NEXT);\r\n    this._$indicatorList = $root.querySelectorAll(SELECTOR_INDICATOR);\r\n    // экстремальные значения слайдов\r\n    this._minOrder = 0;\r\n    this._maxOrder = 0;\r\n    this._$itemWithMinOrder = null;\r\n    this._$itemWithMaxOrder = null;\r\n    this._minTranslate = 0;\r\n    this._maxTranslate = 0;\r\n    // направление смены слайдов (по умолчанию)\r\n    this._direction = 'next';\r\n    // determines whether the position of item needs to be determined\r\n    this._balancingItemsFlag = false;\r\n    this._activeItems = [];\r\n    // текущее значение трансформации\r\n    this._transform = 0;\r\n    // swipe параметры\r\n    this._hasSwipeState = false;\r\n    this.__swipeStartPos = 0;\r\n    // slider properties\r\n    this._transform = 0; // текущее значение трансформации\r\n    this._intervalId = null;\r\n    // configuration of the slider\r\n    this._config = {\r\n      loop: true,\r\n      autoplay: false,\r\n      interval: 5000,\r\n      refresh: true,\r\n      swipe: true,\r\n    };\r\n    for (var key in config) {\r\n      if (this._config.hasOwnProperty(key)) {\r\n        this._config[key] = config[key];\r\n      }\r\n    }\r\n    // create some constants\r\n    var $itemList = this._$itemList;\r\n    var widthItem = $itemList[0].offsetWidth;\r\n    var widthWrapper = this._$wrapper.offsetWidth;\r\n    var itemsInVisibleArea = Math.round(widthWrapper / widthItem);\r\n    // initial setting properties\r\n    this._widthItem = widthItem;\r\n    this._widthWrapper = widthWrapper;\r\n    this._itemsInVisibleArea = itemsInVisibleArea;\r\n    this._transformStep = 100 / itemsInVisibleArea;\r\n    // initial setting order and translate items\r\n    for (var i = 0, length = $itemList.length; i < length; i++) {\r\n      $itemList[i].dataset.index = i;\r\n      $itemList[i].dataset.order = i;\r\n      $itemList[i].dataset.translate = 0;\r\n      if (i < itemsInVisibleArea) {\r\n        this._activeItems.push(i);\r\n      }\r\n    }\r\n    if (this._config.loop) {\r\n      // перемещаем последний слайд перед первым\r\n      var count = $itemList.length - 1;\r\n      var translate = -$itemList.length * 100;\r\n      $itemList[count].dataset.order = -1;\r\n      $itemList[count].dataset.translate = -$itemList.length * 100;\r\n      $itemList[count].style.transform = 'translateX(' + translate + '%)';\r\n      this.__refreshExtremeValues();\r\n    } else {\r\n      // if (this._$controlPrev) {\r\n      //   this._$controlPrev.classList.add(CLASS_CONTROL_HIDE);\r\n      // }\r\n    }\r\n    this._setActiveClass();\r\n    this._addEventListener();\r\n    this._updateIndicators();\r\n    this._autoplay();\r\n  }\r\n  \r\n  // подключения обработчиков событий для слайдера\r\n  ChiefSlider.prototype._addEventListener = function() {\r\n    var $root = this._$root;\r\n    var $items = this._$items;\r\n    var config = this._config;\r\n    function onClick(e) {\r\n      var $target = e.target;\r\n      this._autoplay('stop');\r\n      // if ($target.classList.contains(CONTROL_CLASS)) {\r\n      //   e.preventDefault();\r\n      //   this._direction = $target.dataset.slide;\r\n      //   this._move();\r\n      // } else if ($target.dataset.slideTo) {\r\n      //   var index = parseInt($target.dataset.slideTo);\r\n      //   this._moveTo(index);\r\n      // }\r\n      if (this._config.loop) {\r\n        this._autoplay();\r\n      }\r\n    }\r\n    function onMouseEnter(e) {\r\n      this._autoplay('stop');\r\n    }\r\n    function onMouseLeave(e) {\r\n      this._autoplay();\r\n    }\r\n    function onTransitionStart() {\r\n      if (this._balancingItemsFlag) {\r\n        return;\r\n      }\r\n      this._balancingItemsFlag = true;\r\n      window.requestAnimationFrame(this._balancingItems.bind(this));\r\n    }\r\n    function onTransitionEnd() {\r\n      this._balancingItemsFlag = false;\r\n    }\r\n    function onResize() {\r\n      window.requestAnimationFrame(this._refresh.bind(this));\r\n    }\r\n    function onSwipeStart(e) {\r\n      this._autoplay('stop');\r\n      var event = e.type.search('touch') === 0 ? e.touches[0] : e;\r\n      this._swipeStartPos = event.clientX;\r\n      this._hasSwipeState = true;\r\n    }\r\n    function onSwipeEnd(e) {\r\n      if (!this._hasSwipeState) {\r\n        return;\r\n      }\r\n      var event = e.type.search('touch') === 0 ? e.changedTouches[0] : e;\r\n      var diffPos = this._swipeStartPos - event.clientX;\r\n      if (diffPos > 50) {\r\n        this._direction = 'next';\r\n        this._move();\r\n      } else if (diffPos < -50) {\r\n        this._direction = 'prev';\r\n        this._move();\r\n      }\r\n      this._hasSwipeState = false;\r\n      if (this._config.loop) {\r\n        this._autoplay();\r\n      }\r\n    }\r\n    function onDragStart(e) {\r\n      e.preventDefault();\r\n    }\r\n    function onVisibilityChange() {\r\n      if (document.visibilityState === 'hidden') {\r\n        this._autoplay('stop');\r\n      } else if (document.visibilityState === 'visible') {\r\n        if (this._config.loop) {\r\n          this._autoplay();\r\n        }\r\n      }\r\n    }\r\n  \r\n    $root.addEventListener('click', onClick.bind(this));\r\n    $root.addEventListener('mouseenter', onMouseEnter.bind(this));\r\n    $root.addEventListener('mouseleave', onMouseLeave.bind(this));\r\n    // on resize\r\n    if (config.refresh) {\r\n      window.addEventListener('resize', onResize.bind(this));\r\n    }\r\n    // on transitionstart and transitionend\r\n    if (config.loop) {\r\n      $items.addEventListener('transition-start', onTransitionStart.bind(this));\r\n      $items.addEventListener('transitionend', onTransitionEnd.bind(this));\r\n    }\r\n    // on touchstart and touchend\r\n    if (config.swipe) {\r\n      $root.addEventListener('touchstart', onSwipeStart.bind(this));\r\n      $root.addEventListener('mousedown', onSwipeStart.bind(this));\r\n      document.addEventListener('touchend', onSwipeEnd.bind(this));\r\n      document.addEventListener('mouseup', onSwipeEnd.bind(this));\r\n    }\r\n    $root.addEventListener('dragstart', onDragStart.bind(this));\r\n    // при изменении активности вкладки\r\n    document.addEventListener('visibilitychange', onVisibilityChange.bind(this));\r\n  };\r\n  \r\n  // update values of extreme properties\r\n  ChiefSlider.prototype.__refreshExtremeValues = function() {\r\n    var $itemList = this._$itemList;\r\n    this._minOrder = +$itemList[0].dataset.order;\r\n    this._maxOrder = this._minOrder;\r\n    this._$itemByMinOrder = $itemList[0];\r\n    this._$itemByMaxOrder = $itemList[0];\r\n    this._minTranslate = +$itemList[0].dataset.translate;\r\n    this._maxTranslate = this._minTranslate;\r\n    for (var i = 0, length = $itemList.length; i < length; i++) {\r\n      var $item = $itemList[i];\r\n      var order = +$item.dataset.order;\r\n      if (order < this._minOrder) {\r\n        this._minOrder = order;\r\n        this._$itemByMinOrder = $item;\r\n        this._minTranslate = +$item.dataset.translate;\r\n      } else if (order > this._maxOrder) {\r\n        this._maxOrder = order;\r\n        this._$itemByMaxOrder = $item;\r\n        this._maxTranslate = +$item.dataset.translate;\r\n      }\r\n    }\r\n  };\r\n  \r\n  // update position of item\r\n  ChiefSlider.prototype._balancingItems = function() {\r\n    if (!this._balancingItemsFlag) {\r\n      return;\r\n    }\r\n    var $wrapper = this._$wrapper;\r\n    var $wrapperClientRect = $wrapper.getBoundingClientRect();\r\n    var widthHalfItem = $wrapperClientRect.width / this._itemsInVisibleArea / 2;\r\n    var count = this._$itemList.length;\r\n    var translate;\r\n    var clientRect;\r\n    if (this._direction === 'next') {\r\n      var wrapperLeft = $wrapperClientRect.left;\r\n      var $min = this._$itemByMinOrder;\r\n      translate = this._minTranslate;\r\n      clientRect = $min.getBoundingClientRect();\r\n      if (clientRect.right < wrapperLeft - widthHalfItem) {\r\n        $min.dataset.order = this._minOrder + count;\r\n        translate += count * 100;\r\n        $min.dataset.translate = translate;\r\n        $min.style.transform = 'translateX('.concat(translate, '%)');\r\n        // update values of extreme properties\r\n        this.__refreshExtremeValues();\r\n      }\r\n    } else {\r\n      var wrapperRight = $wrapperClientRect.right;\r\n      var $max = this._$itemByMaxOrder;\r\n      translate = this._maxTranslate;\r\n      clientRect = $max.getBoundingClientRect();\r\n      if (clientRect.left > wrapperRight + widthHalfItem) {\r\n        $max.dataset.order = this._maxOrder - count;\r\n        translate -= count * 100;\r\n        $max.dataset.translate = translate;\r\n        $max.style.transform = 'translateX('.concat(translate, '%)');\r\n        // update values of extreme properties\r\n        this.__refreshExtremeValues();\r\n      }\r\n    }\r\n    // updating...\r\n    requestAnimationFrame(this._balancingItems.bind(this));\r\n  };\r\n  \r\n  // _setActiveClass\r\n  ChiefSlider.prototype._setActiveClass = function() {\r\n    var activeItems = this._activeItems;\r\n    var $itemList = this._$itemList;\r\n    for (var i = 0, length = $itemList.length; i < length; i++) {\r\n      var $item = $itemList[i];\r\n      var index = +$item.dataset.index;\r\n      if (activeItems.indexOf(index) > -1) {\r\n        $item.classList.add(CLASS_ITEM_ACTIVE);\r\n      } else {\r\n        $item.classList.remove(CLASS_ITEM_ACTIVE);\r\n      }\r\n    }\r\n  };\r\n  \r\n  // _updateIndicators\r\n  ChiefSlider.prototype._updateIndicators = function() {\r\n    var $indicatorList = this._$indicatorList;\r\n    var $itemList = this._$itemList;\r\n    if (!$indicatorList.length) {\r\n      return;\r\n    }\r\n    for (var index = 0, length = $itemList.length; index < length; index++) {\r\n      var $item = $itemList[index];\r\n      if ($item.classList.contains(CLASS_ITEM_ACTIVE)) {\r\n        $indicatorList[index].classList.add(CLASS_INDICATOR_ACTIVE);\r\n      } else {\r\n        $indicatorList[index].classList.remove(CLASS_INDICATOR_ACTIVE);\r\n      }\r\n    }\r\n  };\r\n  \r\n  // move slides\r\n  ChiefSlider.prototype._move = function() {\r\n    var step = this._direction ===\r\n     'next' ? -this._transformStep : this._transformStep;\r\n    var transform = this._transform + step;\r\n    if (!this._config.loop) {\r\n      var endTransformValue =\r\n        this._transformStep * (this._$itemList.length - this._itemsInVisibleArea);\r\n      transform = Math.round(transform * 10) / 10;\r\n      if (transform < -endTransformValue || transform > 0) {\r\n        return;\r\n      }\r\n      this._$controlPrev.classList.remove(CLASS_CONTROL_HIDE);\r\n      this._$controlNext.classList.remove(CLASS_CONTROL_HIDE);\r\n      if (transform === -endTransformValue) {\r\n        this._$controlNext.classList.add(CLASS_CONTROL_HIDE);\r\n      } else if (transform === 0) {\r\n        this._$controlPrev.classList.add(CLASS_CONTROL_HIDE);\r\n      }\r\n    }\r\n    var activeIndex = [];\r\n    var i = 0;\r\n    var length;\r\n    var index;\r\n    var newIndex;\r\n    if (this._direction === 'next') {\r\n      for (i = 0, length = this._activeItems.length; i < length; i++) {\r\n        index = this._activeItems[i];\r\n        newIndex = ++index;\r\n        if (newIndex > this._$itemList.length - 1) {\r\n          newIndex -= this._$itemList.length;\r\n        }\r\n        activeIndex.push(newIndex);\r\n      }\r\n    } else {\r\n      for (i = 0, length = this._activeItems.length; i < length; i++) {\r\n        index = this._activeItems[i];\r\n        newIndex = --index;\r\n        if (newIndex < 0) {\r\n          newIndex += this._$itemList.length;\r\n        }\r\n        activeIndex.push(newIndex);\r\n      }\r\n    }\r\n    this._activeItems = activeIndex;\r\n    this._setActiveClass();\r\n    this._updateIndicators();\r\n    this._transform = transform;\r\n    this._$items.style.transform = 'translateX(' + transform + '%)';\r\n    this._$items.dispatchEvent(new CustomEvent('transition-start', {bubbles: true}));\r\n  };\r\n  \r\n  // _moveToNext\r\n  ChiefSlider.prototype._moveToNext = function() {\r\n    this._direction = 'next';\r\n    this._move();\r\n  };\r\n  \r\n  // _moveToPrev\r\n  ChiefSlider.prototype._moveToPrev = function() {\r\n    this._direction = 'prev';\r\n    this._move();\r\n  };\r\n  \r\n  // _moveTo\r\n  ChiefSlider.prototype._moveTo = function(index) {\r\n    var $indicatorList = this._$indicatorList;\r\n    var nearestIndex = null;\r\n    var diff = null;\r\n    var i;\r\n    var length;\r\n    for (i = 0, length = $indicatorList.length; i < length; i++) {\r\n      var $indicator = $indicatorList[i];\r\n      if ($indicator.classList.contains(CLASS_INDICATOR_ACTIVE)) {\r\n        var slideTo = +$indicator.dataset.slideTo;\r\n        if (diff === null) {\r\n          nearestIndex = slideTo;\r\n          diff = Math.abs(index - nearestIndex);\r\n        } else {\r\n          if (Math.abs(index - slideTo) < diff) {\r\n            nearestIndex = slideTo;\r\n            diff = Math.abs(index - nearestIndex);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    diff = index - nearestIndex;\r\n    if (diff === 0) {\r\n      return;\r\n    }\r\n    this._direction = diff > 0 ? 'next' : 'prev';\r\n    for (i = 1; i <= Math.abs(diff); i++) {\r\n      this._move();\r\n    }\r\n  };\r\n  \r\n  // _autoplay\r\n  ChiefSlider.prototype._autoplay = function(action) {\r\n    if (!this._config.autoplay) {\r\n      return;\r\n    }\r\n    if (action === 'stop') {\r\n      clearInterval(this._intervalId);\r\n      this._intervalId = null;\r\n      return;\r\n    }\r\n    if (this._intervalId === null) {\r\n      this._intervalId = setInterval(\r\n          function() {\r\n            this._direction = 'next';\r\n            this._move();\r\n          }.bind(this),\r\n          this._config.interval\r\n      );\r\n    }\r\n  };\r\n  \r\n  // _refresh\r\n  ChiefSlider.prototype._refresh = function() {\r\n    // create some constants\r\n    var $itemList = this._$itemList;\r\n    var widthItem = $itemList[0].offsetWidth;\r\n    var widthWrapper = this._$wrapper.offsetWidth;\r\n    var itemsInVisibleArea = Math.round(widthWrapper / widthItem);\r\n  \r\n    if (itemsInVisibleArea === this._itemsInVisibleArea) {\r\n      return;\r\n    }\r\n  \r\n    this._autoplay('stop');\r\n  \r\n    this._$items.classList.add(SLIDER_TRANSITION_OFF);\r\n    this._$items.style.transform = 'translateX(0)';\r\n  \r\n    // setting properties after reset\r\n    this._widthItem = widthItem;\r\n    this._widthWrapper = widthWrapper;\r\n    this._itemsInVisibleArea = itemsInVisibleArea;\r\n    this._transform = 0;\r\n    this._transformStep = 100 / itemsInVisibleArea;\r\n    this._balancingItemsFlag = false;\r\n    this._activeItems = [];\r\n  \r\n    // setting order and translate items after reset\r\n    for (var i = 0, length = $itemList.length; i < length; i++) {\r\n      var $item = $itemList[i];\r\n      var position = i;\r\n      $item.dataset.index = position;\r\n      $item.dataset.order = position;\r\n      $item.dataset.translate = 0;\r\n      $item.style.transform = 'translateX(0)';\r\n      if (position < itemsInVisibleArea) {\r\n        this._activeItems.push(position);\r\n      }\r\n    }\r\n  \r\n    this._setActiveClass();\r\n    this._updateIndicators();\r\n    window.requestAnimationFrame(\r\n        function() {\r\n          this._$items.classList.remove(SLIDER_TRANSITION_OFF);\r\n        }.bind(this)\r\n    );\r\n  \r\n    // hide prev arrow for non-infinite slider\r\n    // if (!this._config.loop) {\r\n    //   if (this._$controlPrev) {\r\n    //     this._$controlPrev.classList.add(CLASS_CONTROL_HIDE);\r\n    //   }\r\n    //   return;\r\n    // }\r\n  \r\n    // translate last item before first\r\n    var count = $itemList.length - 1;\r\n    var translate = -$itemList.length * 100;\r\n    $itemList[count].dataset.order = -1;\r\n    $itemList[count].dataset.translate = -$itemList.length * 100;\r\n    $itemList[count].style.transform = 'translateX('.concat(translate, '%)');\r\n    // update values of extreme properties\r\n    this.__refreshExtremeValues();\r\n    // calling _autoplay\r\n    this._autoplay();\r\n  };\r\n  new ChiefSlider('.slider');\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n    var elms = document.querySelectorAll('.slider');\r\n    for (var i = 0, len = elms.length; i < len; i++) {\r\n        new ChiefSlider(elms[i]);\r\n    }\r\n  });\r\n  \r\n  // public\r\n  ChiefSlider.prototype.next = function() {\r\n    this._moveToNext();\r\n  };\r\n  ChiefSlider.prototype.prev = function() {\r\n    this._moveToPrev();\r\n  };\r\n  ChiefSlider.prototype.moveTo = function(index) {\r\n    this._moveTo(index);\r\n  };\r\n  ChiefSlider.prototype.refresh = function() {\r\n    this._refresh();\r\n  };"]}